<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shared Twin - Infitwin</title>
    <link rel="stylesheet" href="../styles/auth.css">
    <link rel="stylesheet" href="../styles/shared-view.css">
</head>
<body>
    <!-- Owner Attribution Banner -->
    <div class="owner-banner">
        <div class="container">
            <div class="owner-info">
                <svg class="share-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M18 8a3 3 0 100-6 3 3 0 000 6zM6 15a3 3 0 100-6 3 3 0 000 6zM18 22a3 3 0 100-6 3 3 0 000 6z"/>
                    <path d="M8.59 13.51l6.83 3.98M15.41 6.51l-6.82 3.98"/>
                </svg>
                <span>You're viewing <strong>Margaret Johnson's</strong> digital twin</span>
            </div>
            <a href="../auth.html" class="create-own-btn">Create Your Own Twin</a>
        </div>
    </div>

    <!-- Limited Navigation -->
    <nav class="navbar limited">
        <div class="container">
            <div class="nav-brand">
                <img src="../assets/logo.svg" alt="Infitwin" class="logo">
                <span class="view-mode">Read-Only View</span>
            </div>
            <div class="nav-links">
                <a href="#" class="nav-link active">Explore</a>
                <a href="#" class="nav-link disabled" title="Owner only">Dashboard</a>
                <a href="#" class="nav-link disabled" title="Owner only">Files</a>
                <a href="../auth.html" class="btn btn-primary btn-small">Sign Up</a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="shared-main">
        <div class="container">
            <!-- Twin Info Header -->
            <div class="twin-header">
                <div class="twin-avatar">
                    <div class="avatar-placeholder">MJ</div>
                </div>
                <h1>Margaret Johnson's Digital Twin</h1>
                <p class="twin-subtitle">Explore memories shared with you</p>
            </div>

            <!-- Read-Only Graph Container -->
            <div class="graph-section">
                <div class="graph-container" id="graphContainer">
                    <!-- Placeholder for Neo4j graph -->
                    <div class="graph-placeholder">
                        <svg class="graph-visual" viewBox="0 0 800 600">
                            <!-- Central node -->
                            <circle cx="400" cy="300" r="40" fill="#4A90E2" opacity="0.8"/>
                            <text x="400" y="305" text-anchor="middle" fill="white" font-size="14">Margaret</text>
                            
                            <!-- Memory nodes (limited view) -->
                            <circle cx="250" cy="200" r="30" fill="#7ED321" opacity="0.6" class="memory-node"/>
                            <text x="250" y="205" text-anchor="middle" fill="white" font-size="12">Family</text>
                            
                            <circle cx="550" cy="200" r="30" fill="#F5A623" opacity="0.6" class="memory-node"/>
                            <text x="550" y="205" text-anchor="middle" fill="white" font-size="12">Travel</text>
                            
                            <circle cx="300" cy="400" r="30" fill="#BD10E0" opacity="0.6" class="memory-node"/>
                            <text x="300" y="405" text-anchor="middle" fill="white" font-size="12">Career</text>
                            
                            <circle cx="500" cy="400" r="30" fill="#50E3C2" opacity="0.6" class="memory-node"/>
                            <text x="500" y="405" text-anchor="middle" fill="white" font-size="12">Hobbies</text>
                            
                            <!-- Connections -->
                            <line x1="400" y1="300" x2="250" y2="200" stroke="#ddd" stroke-width="2" opacity="0.5"/>
                            <line x1="400" y1="300" x2="550" y2="200" stroke="#ddd" stroke-width="2" opacity="0.5"/>
                            <line x1="400" y1="300" x2="300" y2="400" stroke="#ddd" stroke-width="2" opacity="0.5"/>
                            <line x1="400" y1="300" x2="500" y2="400" stroke="#ddd" stroke-width="2" opacity="0.5"/>
                            
                            <!-- Locked nodes (blurred) -->
                            <circle cx="150" cy="300" r="25" fill="#999" opacity="0.3" class="locked-node"/>
                            <circle cx="650" cy="300" r="25" fill="#999" opacity="0.3" class="locked-node"/>
                        </svg>
                        <div class="graph-overlay">
                            <p>Click nodes to explore shared memories</p>
                        </div>
                    </div>
                </div>

                <!-- Limited Controls -->
                <div class="graph-controls limited">
                    <button class="control-btn" id="zoomIn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="11" cy="11" r="8"/>
                            <path d="m21 21-4.35-4.35M11 8v6M8 11h6"/>
                        </svg>
                    </button>
                    <button class="control-btn" id="zoomOut">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="11" cy="11" r="8"/>
                            <path d="m21 21-4.35-4.35M8 11h6"/>
                        </svg>
                    </button>
                    <button class="control-btn" id="resetView">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M1 4v6h6M23 20v-6h-6"/>
                            <path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"/>
                        </svg>
                    </button>
                    <div class="control-separator"></div>
                    <button class="control-btn disabled" disabled title="Owner only">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>
                        </svg>
                    </button>
                    <button class="control-btn disabled" disabled title="Owner only">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"/>
                        </svg>
                    </button>
                </div>
            </div>

            <!-- Memory Preview Panel -->
            <div class="memory-preview" id="memoryPreview" style="display: none;">
                <div class="preview-header">
                    <h3>Family Vacation - 1985</h3>
                    <button class="close-preview" id="closePreview">&times;</button>
                </div>
                <div class="preview-content">
                    <p>Our trip to the Grand Canyon was unforgettable. The kids were amazed by the vastness of it all...</p>
                    <div class="preview-meta">
                        <span>üìÖ July 15, 1985</span>
                        <span>üìç Grand Canyon, Arizona</span>
                    </div>
                </div>
            </div>

            <!-- Conversion CTA -->
            <div class="conversion-section">
                <div class="conversion-card">
                    <h2>Want to create your own digital twin?</h2>
                    <p>Preserve your memories and stories for future generations</p>
                    <div class="conversion-features">
                        <div class="feature">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
                            </svg>
                            <span>Upload unlimited memories</span>
                        </div>
                        <div class="feature">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                                <circle cx="9" cy="7" r="4"/>
                                <path d="M23 21v-2a4 4 0 0 0-3-3.87M16 3.13a4 4 0 0 1 0 7.75"/>
                            </svg>
                            <span>Share with family</span>
                        </div>
                        <div class="feature">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                            </svg>
                            <span>Secure forever</span>
                        </div>
                    </div>
                    <a href="../auth.html" class="btn btn-primary btn-large">Start Your Free Trial</a>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="shared-footer">
        <div class="container">
            <p>&copy; 2024 Infitwin. All rights reserved.</p>
            <div class="footer-links">
                <a href="#">Privacy Policy</a>
                <a href="#">Terms of Service</a>
                <a href="#">Contact</a>
            </div>
        </div>
    </footer>

    <script src="../scripts/shared-view.js"></script>
</body>
</html>